{
  "metrics": [
    {
      "name": "neo4j_exporter_ce_transactions_active_total",
      "help": "Total number of active transactions in the Neo4j database",
      "query": "SHOW TRANSACTIONS YIELD transactionId RETURN count(transactionId) AS activeCount",
      "value_field": "activeCount",
      "value": "",
      "labels": [],
      "query_params": {}
    },
    {
      "name": "neo4j_exporter_ce_transaction_elapsed_seconds",
      "help": "Elapsed time in seconds of each active Neo4j transaction",
      "query": "SHOW TRANSACTIONS YIELD transactionId, username, elapsedTime RETURN transactionId, username, toFloat(elapsedTime.seconds) + (elapsedTime.nanoseconds / 1e9) AS elapsedSeconds",
      "value_field": "elapsedSeconds",
      "value": "",
      "labels": ["transactionId", "username"],
      "query_params": {}
    }
  ]
}





CALL db.stats.retrieve('QUERIES') YIELD data
             WHERE data.query = "SHOW TRANSACTIONS YIELD transactionId RETURN count(transactionId) AS activeCount"
             RETURN data.invocationSummary.executionTimeInUs.avg / 1000.0 AS specificQueryAvgMs;
